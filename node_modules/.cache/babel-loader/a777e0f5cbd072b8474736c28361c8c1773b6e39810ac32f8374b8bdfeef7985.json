{"ast":null,"code":"import styles from'./RadioPilot.module.scss';import{useRef}from'react';import{useNavigate}from'react-router-dom';import Button from'../../../components/Button/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RadioPilot(){const navigate=useNavigate();const audioRef=useRef(null);const handleClickBack=()=>{// Останавливаем аудио при переходе назад\nif(audioRef.current){audioRef.current.pause();audioRef.current.currentTime=0;}navigate('/pilot');};const handlePlay=()=>{// Если аудио уже играет, останавливаем и начинаем сначала\nif(audioRef.current){audioRef.current.pause();audioRef.current.currentTime=0;}else{// Создаем новый экземпляр Audio\naudioRef.current=new Audio('/audio/audio-pilot.mp3');}// Пробуем воспроизвести\naudioRef.current.play().catch(error=>{console.error('Ошибка воспроизведения:',error);// Пробуем с отключенным звуком\nif(audioRef.current){audioRef.current.muted=true;audioRef.current.play().catch(e=>console.error('Не удалось воспроизвести даже с отключенным звуком:',e));}});};return/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsx(Button,{className:styles.button,onClick:handlePlay}),/*#__PURE__*/_jsx(Button,{className:styles.button,onClick:handleClickBack})]})});}export default RadioPilot;","map":{"version":3,"names":["styles","useRef","useNavigate","Button","jsx","_jsx","jsxs","_jsxs","RadioPilot","navigate","audioRef","handleClickBack","current","pause","currentTime","handlePlay","Audio","play","catch","error","console","muted","e","className","wrapper","children","content","button","onClick"],"sources":["C:/work/project-radio/src/pages/Radio/RadioPilot/RadioPilot.jsx"],"sourcesContent":["import styles from './RadioPilot.module.scss';\r\nimport { useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Button from '../../../components/Button/Button';\r\n\r\nfunction RadioPilot() {\r\n    const navigate = useNavigate();\r\n    const audioRef = useRef(null);\r\n\r\n    const handleClickBack = () => {\r\n        // Останавливаем аудио при переходе назад\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            audioRef.current.currentTime = 0;\r\n        }\r\n        navigate('/pilot');\r\n    };\r\n\r\n    const handlePlay = () => {\r\n        // Если аудио уже играет, останавливаем и начинаем сначала\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            audioRef.current.currentTime = 0;\r\n        } else {\r\n            // Создаем новый экземпляр Audio\r\n            audioRef.current = new Audio('/audio/audio-pilot.mp3');\r\n        }\r\n\r\n        // Пробуем воспроизвести\r\n        audioRef.current.play()\r\n            .catch(error => {\r\n                console.error('Ошибка воспроизведения:', error);\r\n                // Пробуем с отключенным звуком\r\n                if (audioRef.current) {\r\n                    audioRef.current.muted = true;\r\n                    audioRef.current.play()\r\n                        .catch(e => console.error('Не удалось воспроизвести даже с отключенным звуком:', e));\r\n                }\r\n            });    };\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.content}>\r\n                <Button\r\n                    className={styles.button}\r\n                    onClick={handlePlay}\r\n                    \r\n                />\r\n\r\n                <Button \r\n                    className={styles.button}\r\n                    onClick={handleClickBack}\r\n                    \r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default RadioPilot;\r\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,0BAA0B,CAC7C,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAQ,QAAQ,CAAGT,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAU,eAAe,CAAGA,CAAA,GAAM,CAC1B;AACA,GAAID,QAAQ,CAACE,OAAO,CAAE,CAClBF,QAAQ,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CACxBH,QAAQ,CAACE,OAAO,CAACE,WAAW,CAAG,CAAC,CACpC,CACAL,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAED,KAAM,CAAAM,UAAU,CAAGA,CAAA,GAAM,CACrB;AACA,GAAIL,QAAQ,CAACE,OAAO,CAAE,CAClBF,QAAQ,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CACxBH,QAAQ,CAACE,OAAO,CAACE,WAAW,CAAG,CAAC,CACpC,CAAC,IAAM,CACH;AACAJ,QAAQ,CAACE,OAAO,CAAG,GAAI,CAAAI,KAAK,CAAC,wBAAwB,CAAC,CAC1D,CAEA;AACAN,QAAQ,CAACE,OAAO,CAACK,IAAI,CAAC,CAAC,CAClBC,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C;AACA,GAAIT,QAAQ,CAACE,OAAO,CAAE,CAClBF,QAAQ,CAACE,OAAO,CAACS,KAAK,CAAG,IAAI,CAC7BX,QAAQ,CAACE,OAAO,CAACK,IAAI,CAAC,CAAC,CAClBC,KAAK,CAACI,CAAC,EAAIF,OAAO,CAACD,KAAK,CAAC,qDAAqD,CAAEG,CAAC,CAAC,CAAC,CAC5F,CACJ,CAAC,CAAC,CAAK,CAAC,CAEhB,mBACIjB,IAAA,QAAKkB,SAAS,CAAEvB,MAAM,CAACwB,OAAQ,CAAAC,QAAA,cAC3BlB,KAAA,QAAKgB,SAAS,CAAEvB,MAAM,CAAC0B,OAAQ,CAAAD,QAAA,eAC3BpB,IAAA,CAACF,MAAM,EACHoB,SAAS,CAAEvB,MAAM,CAAC2B,MAAO,CACzBC,OAAO,CAAEb,UAAW,CAEvB,CAAC,cAEFV,IAAA,CAACF,MAAM,EACHoB,SAAS,CAAEvB,MAAM,CAAC2B,MAAO,CACzBC,OAAO,CAAEjB,eAAgB,CAE5B,CAAC,EACD,CAAC,CACL,CAAC,CAEd,CACA,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}