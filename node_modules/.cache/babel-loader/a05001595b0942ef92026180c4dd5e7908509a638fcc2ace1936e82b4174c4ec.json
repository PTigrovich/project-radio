{"ast":null,"code":"import styles from'./Main.module.scss';import{useNavigate}from'react-router-dom';import{useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){const navigate=useNavigate();const handleClick=()=>{navigate('/home');};const videoRef=useRef(null);useEffect(()=>{// Проверяем, что ссылка на видео существует\nif(!videoRef.current)return;const video=videoRef.current;const handlePlay=async()=>{try{await video.play();}catch(error){console.log('Автовоспроизведение заблокировано:',error);// Fallback: включаем без звука\nvideo.muted=true;try{await video.play();}catch(err){console.error('Не удалось воспроизвести видео:',err);}}};// Обработчик для события, когда видео готово к воспроизведению\nconst handleCanPlay=()=>{handlePlay();video.removeEventListener('canplay',handleCanPlay);};video.addEventListener('canplay',handleCanPlay);// Очистка при размонтировании\nreturn()=>{if(videoRef.current){videoRef.current.pause();videoRef.current.removeEventListener('canplay',handleCanPlay);}};},[]);return/*#__PURE__*/_jsx(\"div\",{onClick:handleClick,className:styles.background,children:/*#__PURE__*/_jsxs(\"video\",{ref:videoRef,className:styles.videoBackground,autoPlay:true,loop:true,muted:false,playsInline:true,children:[/*#__PURE__*/_jsx(\"source\",{src:\"/video/background.mp4\",type:\"video/mp4\"}),\"\\u0412\\u0430\\u0448 \\u0431\\u0440\\u0430\\u0443\\u0437\\u0435\\u0440 \\u043D\\u0435 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u0442 \\u0432\\u0438\\u0434\\u0435\\u043E.\"]})});}export default Main;","map":{"version":3,"names":["styles","useNavigate","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Main","navigate","handleClick","videoRef","current","video","handlePlay","play","error","console","log","muted","err","handleCanPlay","removeEventListener","addEventListener","pause","onClick","className","background","children","ref","videoBackground","autoPlay","loop","playsInline","src","type"],"sources":["C:/work/project-radio/src/pages/Main/Main.jsx"],"sourcesContent":["import styles from './Main.module.scss';\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect, useRef } from 'react';\n\nfunction Main() {\n    const navigate = useNavigate();\n\n    const handleClick = () => {\n        navigate('/home'); \n    };\n\n\t \n\t const videoRef = useRef(null);\n\n\t useEffect(() => {\n         // Проверяем, что ссылка на видео существует\n         if (!videoRef.current) return;\n\n         const video = videoRef.current;\n\n         const handlePlay = async () => {\n             try {\n                 await video.play();\n             } catch (error) {\n                 console.log('Автовоспроизведение заблокировано:', error);\n                 // Fallback: включаем без звука\n                 video.muted = true;\n                 try {\n                     await video.play();\n                 } catch (err) {\n                     console.error('Не удалось воспроизвести видео:', err);\n                 }\n             }\n         };\n\n         // Обработчик для события, когда видео готово к воспроизведению\n         const handleCanPlay = () => {\n             handlePlay();\n             video.removeEventListener('canplay', handleCanPlay);\n         };\n\n         video.addEventListener('canplay', handleCanPlay);\n\n         // Очистка при размонтировании\n         return () => {\n             if (videoRef.current) {\n                 videoRef.current.pause();\n                 videoRef.current.removeEventListener('canplay', handleCanPlay);\n             }\n         };\n     }, []);\n\t \n\n    return (\n        <div onClick={handleClick} className={styles.background}>\n            <video\n                ref={videoRef}\n                className={styles.videoBackground}\n                autoPlay\n                loop\n                muted={false}\n                playsInline\n            >\n                <source src=\"/video/background.mp4\" type=\"video/mp4\" />\n                Ваш браузер не поддерживает видео.\n            </video>\n        </div>\n    );\n}\n\nexport default Main;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,oBAAoB,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACZ,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAS,WAAW,CAAGA,CAAA,GAAM,CACtBD,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,CAGH,KAAM,CAAAE,QAAQ,CAAGR,MAAM,CAAC,IAAI,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACT;AACA,GAAI,CAACS,QAAQ,CAACC,OAAO,CAAE,OAEvB,KAAM,CAAAC,KAAK,CAAGF,QAAQ,CAACC,OAAO,CAE9B,KAAM,CAAAE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAD,KAAK,CAACE,IAAI,CAAC,CAAC,CACtB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAEF,KAAK,CAAC,CACxD;AACAH,KAAK,CAACM,KAAK,CAAG,IAAI,CAClB,GAAI,CACA,KAAM,CAAAN,KAAK,CAACE,IAAI,CAAC,CAAC,CACtB,CAAE,MAAOK,GAAG,CAAE,CACVH,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEI,GAAG,CAAC,CACzD,CACJ,CACJ,CAAC,CAED;AACA,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxBP,UAAU,CAAC,CAAC,CACZD,KAAK,CAACS,mBAAmB,CAAC,SAAS,CAAED,aAAa,CAAC,CACvD,CAAC,CAEDR,KAAK,CAACU,gBAAgB,CAAC,SAAS,CAAEF,aAAa,CAAC,CAEhD;AACA,MAAO,IAAM,CACT,GAAIV,QAAQ,CAACC,OAAO,CAAE,CAClBD,QAAQ,CAACC,OAAO,CAACY,KAAK,CAAC,CAAC,CACxBb,QAAQ,CAACC,OAAO,CAACU,mBAAmB,CAAC,SAAS,CAAED,aAAa,CAAC,CAClE,CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAGP,mBACIhB,IAAA,QAAKoB,OAAO,CAAEf,WAAY,CAACgB,SAAS,CAAE1B,MAAM,CAAC2B,UAAW,CAAAC,QAAA,cACpDrB,KAAA,UACIsB,GAAG,CAAElB,QAAS,CACde,SAAS,CAAE1B,MAAM,CAAC8B,eAAgB,CAClCC,QAAQ,MACRC,IAAI,MACJb,KAAK,CAAE,KAAM,CACbc,WAAW,MAAAL,QAAA,eAEXvB,IAAA,WAAQ6B,GAAG,CAAC,uBAAuB,CAACC,IAAI,CAAC,WAAW,CAAE,CAAC,sLAE3D,EAAO,CAAC,CACP,CAAC,CAEd,CAEA,cAAe,CAAA3B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}