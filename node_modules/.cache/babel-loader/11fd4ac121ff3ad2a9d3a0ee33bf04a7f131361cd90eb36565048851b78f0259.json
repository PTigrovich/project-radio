{"ast":null,"code":"var _jsxFileName = \"C:\\\\work\\\\project-radio\\\\src\\\\pages\\\\Radio\\\\RadioPilot\\\\RadioPilot.jsx\",\n  _s = $RefreshSig$();\nimport styles from './RadioPilot.module.scss';\nimport { useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Button from '../../../components/Button/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RadioPilot() {\n  _s();\n  const navigate = useNavigate();\n  const audioRef = useRef < HTMLAudioElement | null > null;\n\n  // Очистка при размонтировании компонента\n  useEffect(() => {\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n    };\n  }, []);\n  const handleClickBack = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current = null;\n    }\n    navigate('/pilot');\n  };\n  const handlePlay = () => {\n    // Если аудио уже играет, останавливаем и сбрасываем\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      audioRef.current = null;\n    }\n\n    // Создаем новый экземпляр Audio\n    const audio = new Audio();\n    audio.src = '/audio/audio-pilot.mp3';\n    audioRef.current = audio;\n\n    // Обработчики ошибок\n    audio.addEventListener('error', e => {\n      var _audio$error;\n      console.error('Audio error:', e);\n      switch ((_audio$error = audio.error) === null || _audio$error === void 0 ? void 0 : _audio$error.code) {\n        case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\n          console.error('Формат аудио не поддерживается');\n          break;\n        case MediaError.MEDIA_ERR_ABORTED:\n          console.error('Воспроизведение было прервано');\n          break;\n        default:\n          console.error('Ошибка воспроизведения');\n      }\n    });\n\n    // Попытка воспроизведения\n    audio.play().catch(error => {\n      console.error('Playback failed:', error);\n      // Пробуем с muted\n      audio.muted = true;\n      audio.play().catch(e => console.error('Muted playback failed:', e));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.wrapper,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.content,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: styles.button,\n        onClick: handlePlay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: styles.button,\n        onClick: handleClickBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(RadioPilot, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = RadioPilot;\nexport default RadioPilot;\nvar _c;\n$RefreshReg$(_c, \"RadioPilot\");","map":{"version":3,"names":["styles","useRef","useEffect","useNavigate","Button","jsxDEV","_jsxDEV","RadioPilot","_s","navigate","audioRef","HTMLAudioElement","current","pause","handleClickBack","handlePlay","currentTime","audio","Audio","src","addEventListener","e","_audio$error","console","error","code","MediaError","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ABORTED","play","catch","muted","className","wrapper","children","content","button","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/work/project-radio/src/pages/Radio/RadioPilot/RadioPilot.jsx"],"sourcesContent":["import styles from './RadioPilot.module.scss';\r\nimport { useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Button from '../../../components/Button/Button';\r\n\r\nfunction RadioPilot() {\r\n    const navigate = useNavigate();\r\n    const audioRef = (useRef < HTMLAudioElement) | (null > null);\r\n\r\n    // Очистка при размонтировании компонента\r\n    useEffect(() => {\r\n        return () => {\r\n            if (audioRef.current) {\r\n                audioRef.current.pause();\r\n                audioRef.current = null;\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const handleClickBack = () => {\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            audioRef.current = null;\r\n        }\r\n        navigate('/pilot');\r\n    };\r\n\r\n    const handlePlay = () => {\r\n        // Если аудио уже играет, останавливаем и сбрасываем\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            audioRef.current.currentTime = 0;\r\n            audioRef.current = null;\r\n        }\r\n\r\n        // Создаем новый экземпляр Audio\r\n        const audio = new Audio();\r\n        audio.src = '/audio/audio-pilot.mp3';\r\n        audioRef.current = audio;\r\n\r\n        // Обработчики ошибок\r\n        audio.addEventListener('error', e => {\r\n            console.error('Audio error:', e);\r\n            switch (audio.error?.code) {\r\n                case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\r\n                    console.error('Формат аудио не поддерживается');\r\n                    break;\r\n                case MediaError.MEDIA_ERR_ABORTED:\r\n                    console.error('Воспроизведение было прервано');\r\n                    break;\r\n                default:\r\n                    console.error('Ошибка воспроизведения');\r\n            }\r\n        });\r\n\r\n        // Попытка воспроизведения\r\n        audio.play().catch(error => {\r\n            console.error('Playback failed:', error);\r\n            // Пробуем с muted\r\n            audio.muted = true;\r\n            audio.play().catch(e => console.error('Muted playback failed:', e));\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.content}>\r\n                <Button className={styles.button} onClick={handlePlay} />\r\n                <Button className={styles.button} onClick={handleClickBack} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RadioPilot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}